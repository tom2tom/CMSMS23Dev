/*!
jQuery plugin ContextMenu v.1.2 <https://github.com/GGaritaJ/ggContextMenu>
(C) 2018 Gerardo Garita <info@ggaritaj.com>
License: GPL3
*/
!function($,e,t,i){function n(t,i,n){var s,o,l=$(e),c=l.width(),r=l.height(),a=$(t),v=a.width(),f=a.height();n+f>r?(n-=f+18,s="bottom"):s="top",i+v>c?(i-=v+18,o="right"):o="left",props={top:n+"px",left:i+"px"},props["border-"+s+"-"+o+"-radius"]=0,a.removeAttr("style").css(props)}$.fn.ContextMenu=function(i){var s={beforeShow:!1,afterHidden:!1};try{$(this).each(function(){this.cfg=$.extend(s,i||{}),$(this).on("click",function(e){e.preventDefault();var t=this,i="#"+$(e.currentTarget).attr("context-menu");return $("div.ContextMenu").removeClass("active").removeAttr("style"),$(i).find(".active").removeClass("active"),"function"==typeof this.cfg.beforeShow&&this.cfg.beforeShow(this,i),n(i,e.clientX,e.clientY),$(i).addClass("active"),$("html").on("click.ggmenu",function(e){$(i).removeClass("active").removeAttr("style").find("ul.sub-level, li.sub-level").removeClass("active").removeAttr("style"),"function"==typeof t.cfg.afterHidden&&t.cfg.afterHidden(t,i),$("html").off("click.ggmenu")}),!1}).find("li.sub-level").on("click",function(e){var t=$(this).find("ul.sub-level")[0];if($(t).hasClass("active"))0!==$(this).find("ul").find(e.target).length?($(t).addClass("active"),$(this).addClass("active")):($(t).removeClass("active"),$(this).removeClass("active"));else{$(t).addClass("active"),$(this).addClass("active");var i="#"+$(e.currentTarget).closest(".ContextMenu").attr("id"),s=$(i).position();n(i,s.left,s.top)}})}),$(t).on("scroll",function(){$("div.ContextMenu, div.ContextMenu ul.sub-level, div.ContextMenu li.sub-level").removeClass("active").removeAttr("style"),$("html").off("click.ggmenu")})}catch(e){console.log("Error: "+e+".")}finally{setTimeout(function(){e.dispatchEvent(new Event("resize"))},1e3)}}}(jQuery,window,document);