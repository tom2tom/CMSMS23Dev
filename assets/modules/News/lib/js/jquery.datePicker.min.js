/*!
jQuery DatePicker V.1.1 <https://github.com/biohzrdmx/jQuery.DatePicker>
(C) 2017-2018 biohzrdmx <http://biohzrdmx.me>
License: MIT
*/
;(function(a){a.datePicker={strings:{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],daysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],messageLocked:"The day you have just selected is not available"},defaults:{formatDate:function(b){var c=a.datePicker.utils.pad(b.getDate(),2)+"/"+a.datePicker.utils.pad(b.getMonth()+1,2)+"/"+b.getFullYear();return c},parseDate:function(c){var b=new Date();var d=c.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(d&&d.length==4){b=new Date(d[3],d[2]-1,d[1])}return b},selectDate:function(b){return true},limitCenturies:true,closeOnPick:true,appendTo:null,orientation:"l"},utils:{firstDay:function(b,c){return new Date(b,c,1).getDay()},daysInMonth:function(b,c){return new Date(b,++c,0).getDate()},buildDecadePicker:function(g,o){var h=a.datePicker,p=a('<div class="decades"></div>'),c=(Math.floor(g/100)*100)-10,d=a.datePicker.defaults.limitCenturies;var l='<div class="row header"><a href="#" class="prev'+(d&&c<1900?" disabled":"")+'"><span class="arrow"></span></a><a href="#" class="century" data-century="'+(c+10)+'">'+(c+1)+"-"+(c+100)+'</a><a href="#" class="next'+(d&&c==1990?" disabled":"")+'"><span class="arrow"></span></a></div>';p.append(l);var b=0;var m="";var k=0;for(var f=0;f<3;f++){var r=a('<div class="row"></div>');for(var e=0;e<4;e++){b=e+(f*4);m=b==0?" grayed prev":(b==11?" grayed next":"");k=c+(b*10);if(d&&(k<1900||k>2090)){var q=a('<a href="" class="cell large double decade blank">&nbsp;</a>');r.append(q);continue}if(o>=k&&o<=(k+9)){m+=" selected"}var q=a('<a href="#" data-year="'+k+'" class="cell large double decade'+m+'"><span>'+k+"- "+(k+9)+"</span></a>");r.append(q)}p.append(r)}return p},buildYearPicker:function(r,o){var f=a.datePicker,l=a('<div class="years"></div>'),k=(Math.floor(r/10)*10)-1,c=a.datePicker.defaults.limitCenturies;var h='<div class="row header"><a href="#" class="prev'+(c&&k==1899?" disabled":"")+'"><span class="arrow"></span></a><a href="#" class="decade" data-decade="'+(k+1)+'">'+(k+1)+"-"+(k+10)+'</a><a href="#" class="next'+(c&&k==2089?" disabled":"")+'"><span class="arrow"></span></a></div>';l.append(h);var b=0;var m="";var g=0;for(var e=0;e<3;e++){var q=a('<div class="row"></div>');for(var d=0;d<4;d++){b=d+(e*4);m=b==0?" grayed prev":(b==11?" grayed next":"");g=k+b;if(c&&(g<1900||g>2099)){var p=a('<a href="" class="cell large year blank">&nbsp;</a>');q.append(p);continue}if(g==o){m+=" selected"}var p=a('<a href="#" data-year="'+g+'" class="cell large year'+m+'">'+g+"</a>");q.append(p)}l.append(q)}return l},buildMonthPicker:function(l,k){var g=a.datePicker,b=a('<div class="months"></div>'),d=a.datePicker.defaults.limitCenturies;var h='<div class="row header"><a href="#" class="prev'+(d&&l==1900?" disabled":"")+'"><span class="arrow"></span></a><a href="#" class="year" data-year="'+l+'">'+l+'</a><a href="#" class="next'+(d&&l==2099?" disabled":"")+'"><span class="arrow"></span></a></div>';b.append(h);var c=0;var m="";for(var f=0;f<3;f++){var p=a('<div class="row"></div>');for(var e=0;e<4;e++){c=e+(f*4);m="";if(c==k){m+=" selected"}var o=a('<a href="#" data-year="'+l+'" data-month="'+c+'" class="cell large month'+m+'">'+g.strings.monthsShort[c]+"</a>");p.append(o)}b.append(p)}return b},buildCalendar:function(i,t,m){var j=a.datePicker,k=a('<div class="calendar"></div>'),s=new Date(),i=i||s.getFullYear(),t=t>=0?t:s.getMonth(),q=new Date(i,t,1),p=a.datePicker.defaults.limitCenturies;q.setDate(q.getDate()-1);var c=q.getDate(),l=this.daysInMonth(i,t),e=this.firstDay(i,t),u=1-e;if(e==0){u-=7}var o='<div class="row header"><a href="#" class="prev'+(p&&i==1900&&t==0?" disabled":"")+'"><span class="arrow"></span></a><a href="#" class="month" data-year="'+i+'" data-month="'+t+'">'+j.strings.monthsFull[t]+" "+i+'</a><a href="#" class="next'+(p&&i==2099&&t==11?" disabled":"")+'"><span class="arrow"></span></a></div>';k.append(o);var f=a('<div class="row days"></div>');for(var h=0;h<7;h++){f.append('<div class="cell">'+j.strings.daysShort[h]+"</div>")}k.append(f);for(var h=0;h<6;h++){var n=a('<div class="row week"></div>');for(var r=0;r<7;r++){var g=u<=0?c+u:(u>l?u-l:u),b=u<=0?" grayed prev":(u>l?" grayed next":"");if(p&&(i==1900&&t==0&&u<1||i==2099&&t==11&&u>l)){n.append('<a href="#" class="cell day blank">&nbsp;</a>');u++;continue}if(u==s.getDate()&&t==s.getMonth()&&i==s.getFullYear()){b+=" today"}if(u==m.getDate()&&t==m.getMonth()&&i==m.getFullYear()){b+=" selected"}n.append('<a href="#" class="cell day'+b+'">'+g+"</a>");u++}k.append(n)}return k},pad:function(b,c){var d=b+"";while(d.length<c){d="0"+d}return d}},show:function(m){var b=a.extend(true,{},a.datePicker.defaults,m);var j=null,d=new Date();if(b.element){if(typeof b.element=="string"){b.element=a(b.element)}d=b.parseDate(b.element.val())}var e={day:d.getDate(),month:d.getMonth(),year:d.getFullYear(),decade:d.getFullYear()};var f=a.datePicker.utils.buildCalendar(e.year,e.month,d),c=a.datePicker.utils.buildMonthPicker(e.year,e.month),h=a.datePicker.utils.buildYearPicker(e.year,e.year),k=a.datePicker.utils.buildDecadePicker(e.year,e.year),j=a('<div class="datepicker"><span class="tip"></span></div>');j.append(f);j.append(c);j.append(h);j.append(k);a(b.appendTo||"body").append(j);var g={},i=b.element.offset(),l;j.show();if(b.orientation.match(/r/)){g.left=i.left+b.element.outerWidth()-j.outerWidth()+parseInt(j.css("marginLeft").replace("px",""),10)}else{g.left=i.left+parseInt(j.css("marginLeft").replace("px",""),10)}if(b.orientation.match(/t/)){l="t"}else{if(b.orientation.match(/b/)){l="b"}else{if(i.top+b.element.outerHeight(true)+j.outerHeight()>a(window).height()+a(window).scrollTop()){l="t"}else{l="b"}}}if(l=="t"){g.top=i.top-j.outerHeight()+parseInt(j.css("marginTop").replace("px",""),10)-2}else{g.top=i.top+b.element.outerHeight()+parseInt(j.css("marginTop").replace("px",""),10)+2}j.offset(g);j.on("click",".calendar .day",function(q){q.preventDefault();var n=a(this),p=n.closest(".calendar");if(n.hasClass("blank")){return}p.find(".selected").removeClass("selected");n.addClass("selected");e.day=parseInt(n.text())||1;if(n.hasClass("grayed")){if(n.hasClass("prev")){e.year-=e.month==0?1:0;e.month=e.month>0?e.month-1:11}else{if(n.hasClass("next")){e.year+=e.month==11?1:0;e.month=e.month<11?e.month+1:0}}}var r=new Date();r.setFullYear(e.year,e.month,e.day);if(b.selectDate(r)){d.setFullYear(e.year,e.month,e.day);var o=b.formatDate(d);a(b.element).val(o);if(b.closeOnPick&&!n.hasClass("grayed")){a.datePicker.hide()}}});j.on("click",".calendar .month",function(r){r.preventDefault();var p=a(this),q=p.closest(".calendar"),n=j.children(".months"),o=a.datePicker.utils.buildMonthPicker(e.year,e.month);n.replaceWith(o);n=o;q.fadeOut(150,function(){n.fadeIn(150)})});j.on("click",".calendar .prev",function(s){s.preventDefault();var o=a(this),r=o.closest(".calendar"),q=r.find(".month"),p=q.data("month"),n=q.data("year");if(o.hasClass("disabled")){return}p=p-1;if(p<0){p=11;n--}e.month=p;e.year=n;replacement=a.datePicker.utils.buildCalendar(n,p,d);replacement.hide();r.after(replacement);r.fadeOut(150,function(){r.detach();replacement.fadeIn(150)})});j.on("click",".calendar .next",function(s){s.preventDefault();var o=a(this),r=o.closest(".calendar"),q=r.find(".month"),p=q.data("month"),n=q.data("year");if(o.hasClass("disabled")){return}p=p+1;if(p>11){p=0;n++}e.month=p;e.year=n;replacement=a.datePicker.utils.buildCalendar(n,p,d);replacement.hide();r.after(replacement);r.fadeOut(150,function(){r.detach();replacement.fadeIn(150)})});j.on("click",".months .month",function(t){t.preventDefault();var q=a(this),n=q.closest(".months"),s=q.data("month"),p=q.data("year"),r=j.children(".calendar"),o=null;if(q.hasClass("blank")){return}n.find(".selected").removeClass("selected");q.addClass("selected");e.month=s;o=a.datePicker.utils.buildCalendar(p,s,d);o.hide();r.replaceWith(o);n.fadeOut(150,function(){o.fadeIn(150)})});j.on("click",".months .prev",function(r){r.preventDefault();var p=a(this),n=p.closest(".months"),q=n.find(".year"),o=q.data("year");if(p.hasClass("disabled")){return}o-=1;e.year=o;replacement=a.datePicker.utils.buildMonthPicker(o,e.month);replacement.hide();n.after(replacement);n.fadeOut(150,function(){n.detach();replacement.fadeIn(150)})});j.on("click",".months .next",function(r){r.preventDefault();var p=a(this),n=p.closest(".months"),q=n.find(".year"),o=q.data("year");if(p.hasClass("disabled")){return}o+=1;e.year=o;replacement=a.datePicker.utils.buildMonthPicker(o,e.month);replacement.hide();n.after(replacement);n.fadeOut(150,function(){n.detach();replacement.fadeIn(150)})});j.on("click",".months .year",function(r){r.preventDefault();var q=a(this),n=q.closest(".months"),p=j.children(".years"),o=a.datePicker.utils.buildYearPicker(e.decade,e.year);p.replaceWith(o);p=o;n.fadeOut(150,function(){p.fadeIn(150)})});j.on("click",".years .year",function(s){s.preventDefault();var r=a(this),o=r.closest(".years"),q=r.data("year"),n=j.children(".months"),p=null;if(r.hasClass("blank")){return}else{if(r.hasClass("next")||r.hasClass("prev")){return}}o.find(".selected").removeClass("selected");r.addClass("selected");e.year=q;e.decade=q;p=a.datePicker.utils.buildMonthPicker(q,e.month);p.hide();n.replaceWith(p);o.fadeOut(150,function(){p.fadeIn(150)})});j.on("click",".years .prev",function(q){q.preventDefault();var o=a(this),n=o.closest(".years"),p=n.find(".decade"),r=p.data("decade");if(o.hasClass("disabled")){return}r-=10;e.decade=r;replacement=a.datePicker.utils.buildYearPicker(r,e.year);replacement.hide();n.after(replacement);n.fadeOut(150,function(){n.detach();replacement.fadeIn(150)})});j.on("click",".years .next",function(q){q.preventDefault();var o=a(this),n=o.closest(".years"),p=n.find(".decade"),r=p.data("decade");if(o.hasClass("disabled")){return}r+=10;e.decade=r;replacement=a.datePicker.utils.buildYearPicker(r,e.year);replacement.hide();n.after(replacement);n.fadeOut(150,function(){n.detach();replacement.fadeIn(150)})});j.on("click",".years .decade",function(q){q.preventDefault();var o=a(this),n=o.closest(".years"),p=j.children(".decades");n.fadeOut(150,function(){p.fadeIn(150)})});j.on("click",".decades .decade",function(r){r.preventDefault();var p=a(this),s=p.data("year"),q=p.closest(".decades"),n=j.children(".years"),o=null;if(p.hasClass("blank")){return}else{if(p.hasClass("next")||p.hasClass("prev")){return}}q.find(".selected").removeClass("selected");p.addClass("selected");o=a.datePicker.utils.buildYearPicker(s,e.year);o.hide();n.replaceWith(o);q.fadeOut(150,function(){o.fadeIn(150)})});j.on("click",".decades .prev",function(q){q.preventDefault();var n=a(this),o=n.closest(".decades"),p=o.find(".century"),r=p.data("century");if(n.hasClass("disabled")){return}r-=100;replacement=a.datePicker.utils.buildDecadePicker(r,e.decade);replacement.hide();o.after(replacement);o.fadeOut(150,function(){o.detach();replacement.fadeIn(150)})});j.on("click",".decades .next",function(q){q.preventDefault();var n=a(this),o=n.closest(".decades"),p=o.find(".century"),r=p.data("century");if(n.hasClass("disabled")){return}r+=100;replacement=a.datePicker.utils.buildDecadePicker(r,e.decade);replacement.hide();o.after(replacement);o.fadeOut(150,function(){o.detach();replacement.fadeIn(150)})});j.on("click",".decades .century",function(n){n.preventDefault()});a(document).on("mouseup",function(n){if(!j.is(n.target)&&j.has(n.target).length===0){a(document).off("mouseup");a.datePicker.hide()}})},hide:function(c){var c=c||false,b=a(".datepicker");if(c){b.remove()}else{b.fadeOut(150,b.remove)}}};a.fn.datePicker=function(b){if(!this.length){return this}var c=a.extend(true,{},a.datePicker.defaults,b);this.each(function(){var g=a(this),f=g.parent(),e=f.find("[data-toggle=datepicker]"),d=g.data("locked");d=d?d.split(";"):false;var h=function(k){var j=true,m=a.datePicker.utils.pad(k.getDate(),2)+"/"+a.datePicker.utils.pad(k.getMonth()+1,2)+"/"+k.getFullYear();if(d.length){for(var l=0;l<d.length;l++){if(d[l]==m){if(typeof a.alert==="function"){a.alert=a.datePicker.strings.messageLocked}else{alert(a.datePicker.strings.messageLocked)}j=false;break}}}return j};if(!e.length){g.on("click",function(){a.datePicker.show({element:g,selectDate:h})})}else{e.on("click",function(i){i.preventDefault();if(a(".datepicker:visible").length){a.datePicker.hide()}else{a.datePicker.show({element:g,selectDate:h})}})}});return this};a("[data-select=datepicker]").each(function(){var b=a(this);b.datePicker()})})(jQuery);