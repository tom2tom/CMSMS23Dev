/*!
metadata plugin for jQuery
Copyright (C) 2006 John Resig, Yehuda Katz, JÃ¶rn Zaefferer, Paul McLanahan
Dual licensed: MIT and GPL
*/
;(function($){$.fn.metadata=function(opts){var defaults={type:"class",name:"metadata",cre:/({.*})/,single:"metadata"};function setType(type,name){defaults.type=type;defaults.name=name}var settings=$.extend({},defaults,opts);if(!settings.single){settings.single="metadata"}var elem=this[0];var data=$.data(elem,settings.single);if(data){return data}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return undefined}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!==undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}if(data.indexOf("{")<0){data="{"+data+"}"}data=eval("("+data+")");$.data(elem,settings.single,data);return data}})(jQuery);