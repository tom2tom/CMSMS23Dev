/*!
jQuery treefilter plugin V.1.0 <https://github.com/...>
(C) 2018 Tom Phane <tpgww@onepost.net>
License: AGPL3+
*/
(function($){$.fn.treefilter=function(a){var g=null;$.fn.treefilter.collapseAll=function(j,h){if(typeof h==="undefined"){h=$.data(j,"treefilteroptions")}var i=$(j);i.find("ul."+h.matchclass,"li."+h.matchclass).removeClass(h.matchclass);i.find("> li li").each(function(){f($(this),h)});i.find("li:not(."+h.emptyclass+")").each(function(){d($(this),h)});i.find("> li").each(function(){c($(this),h)})};$.fn.treefilter.endSession=function(j,h){g=null;if(typeof h==="undefined"){h=$.data(j,"treefilteroptions")}var i=$(j);i.find("ul."+h.matchclass).addClass(h.hideclass).removeClass(h.matchclass);i.find("li."+h.matchclass).removeClass(h.matchclass);i.find("> li").each(function(){var k=$(this).find("> ul > li:visible");if(k.length===0){d($(this),h)}c($(this),h)});i.removeClass(h.matchclass+" "+h.searchclass)};function f(j,i){var h;if(i.showclass){j.removeClass(i.showclass);h=true}else{h=false}if(i.hideclass){j.addClass(i.hideclass);return}if(!h){j.hide()}}function c(j,i){var h;if(i.hideclass){j.removeClass(i.hideclass);h=true}else{h=false}if(i.showclass){j.addClass(i.showclass);return}if(!h){j.show()}}function e(i,h){i.toggleClass(h.closedclass,false).toggleClass(h.openclass,true)}function d(i,h){i.toggleClass(h.openclass,false).toggleClass(h.closedclass,true)}a=$.extend({},$.treefilter.defaults,a||{});if(a.selector){g=this[0].querySelectorAll("li");this.data("treefilteroptions",a);this.addClass(a.searchclass);if(a.collapse){$.fn.treefilter.collapseAll(this[0],a)}var b=this;a.selector.addEventListener("input",function(){if(this.value.length>0){b.find("ul").removeClass(a.matchclass);var k=this.value.toLowerCase(),j=[],i=[],h;g.forEach(function(l){var m=l.textContent;h=$(l);if((l.textContent||"").toLowerCase().indexOf(k)>=0){if(!h.hasClass(a.emptyclass)){e(h,a);i.push(l)}h.addClass(a.matchclass);c(h,a);j.push(l)}else{f(h,a);h.removeClass(a.matchclass)}});if(j.length>0){$.each(j,function(){$(this).parents("ul").addClass(a.matchclass)});j=[];if(i.length>0){$.each(i,function(){h=$(this);if(h.find("> ul > li:visible").length===0){d(h,a)}});i=[]}}}else{$.fn.treefilter.collapseAll(b[0],a)}})}return this};$.treefilter={defaults:{selector:null,collapse:true,matchclass:"tf-search-result",showclass:null,hideclass:null,openclass:"tf-open",closedclass:null,emptyclass:"tf-child-false",searchclass:"tf-search-root"}}})(jQuery);