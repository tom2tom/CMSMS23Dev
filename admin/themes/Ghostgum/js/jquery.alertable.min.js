/*!
jquery alertable plugin V.1.1 <github.com/claviska/jquery-alertable>
(C) Cory LaViska <https://twitter.com/claviska>
License: MIT 
*/
;(function($,f,g,c){"use strict";var k,d,h,b,j,a;function i(o,p,l){var q=$.Deferred();a=g.activeElement;a.blur();$(k).add(d).remove();var n=$.extend({},$.alertable.defaults,l);if(!l||typeof l.okButton=="undefined"){n.okButton='<button id="alertable-ok" type="submit">'+n.okName+"</button>"}if(!l||typeof l.cancelButton=="undefined"){n.cancelButton='<button id="alertable-cancel" type="button">'+n.cancelName+"</button>"}k=$(n.modal).hide();d=$(n.overlay).hide();if(n.html){k.find(".alertable-message").html(p)}else{k.find(".alertable-message").text(p)}if(o==="prompt"){k.find(".alertable-prompt").html(n.prompt);j=$(".alertable-prompt input",k)}else{k.find(".alertable-prompt").remove();j=null}var m=k.find(".alertable-buttons");if(m.length==1){h=$(n.okButton);b=(o==="alert")?"":$(n.cancelButton);if(n.ltr){m.append(h).append(b)}else{m.append(b).append(h)}}else{h=null;b=null}$(n.container).append(d).append(k);n.show.call({modal:k,overlay:d});if(o==="prompt"){j.eq(0).focus()}else{k.find(':input[type="submit"]').focus()}k.on("submit.alertable",function(t){var s,u,r=[];t.preventDefault();if(o==="prompt"){u=k.serializeArray();for(s=0;s<u.length;s++){r[u[s].name]=u[s].value}}else{r=null}e(n);q.resolve(r)});if(h){h.on("click.alertable",function(){if(o=="prompt"){var r=j.val();e(n);q.resolve(r)}else{e(n);q.resolve()}})}if(j){j.on("keydown.alertable",function(r){if(r.keyCode===13){r.preventDefault();return false}}).on("keyup.alertable",function(r){if(r.keyCode===13){if(h){h.trigger("click.alertable")}}})}if(b){b.on("click.alertable",function(){e(n);q.reject()})}$(g).on("keyup.alertable",function(r){if(r.keyCode===27){r.preventDefault();e(n);q.reject()}});$(g).on("focus.alertable","*",function(r){if(!$(r.target).parents().is(".alertable")){r.stopPropagation();r.target.blur();$(k).find(":input:first").focus()}});return q.promise()}function e(l){l.hide.call({modal:k,overlay:d});$(g).off(".alertable");k.off(".alertable");b.off(".alertable");a.focus()}$.alertable={alert:function(m,l){return i("alert",m,l)},confirm:function(m,l){return i("confirm",m,l)},prompt:function(m,l){return i("prompt",m,l)},defaults:{container:"body",html:false,ltr:true,cancelName:"Cancel",okName:"OK",cancelButton:'<button class="alertable-cancel" type="button">Cancel</button>',okButton:'<button class="alertable-ok" type="submit">OK</button>',overlay:'<div class="alertable-overlay"></div>',prompt:'<input class="alertable-input" type="text" name="value">',modal:'<form class="alertable"><div class="alertable-message"></div><div class="alertable-prompt"></div><div class="alertable-buttons"></div></form>',hide:function(){$(this.modal).add(this.overlay).fadeOut(100)},show:function(){$(this.modal).add(this.overlay).fadeIn(100)}}}})(jQuery,window,document);